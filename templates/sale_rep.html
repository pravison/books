{% extends 'main.html' %}
{% load static %}
{% block title%} Sales {%endblock title%}
{%block content %}
<main>
    <!-- ======= Contact Section ======= -->
    <section class="contact">

        <div class="container"  data-aos="fade-up">
  
          <div class="row gy-4">

            <div class="col-lg-12" style="align-items: center;">

              <form method="POST" action={% url 'sales_rep' %} style=" padding: 10px 30px;" >
                <header class="section-header">
                  <p >Register</p>
                </header>

                {% if form.errors or form.non_field_errors %}
                <div class="col-12">
                  {% for field in form %}
                  <div class="alert alert-warning alert-dismissible fade show" role="alert">
                    <p class="small mb-0" style="color: red;">{{ field.errors }}</p>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                  </div>
                  {% endfor %}
                </div>
                {% endif %}
                {{form.non_field_errors}}

                {% csrf_token %}
                <div class="row gy-4">
                  
                  <div class="col-md-6">
                    <input type="text" name="name" id="name" class="form-control" placeholder="Your Full Name" required>
                  </div>
    
                  <div class="col-md-6">
                    <input type="text" name="username" id="username" class="form-control" placeholder="Your username" required>
                  </div>
    
                  <div class="col-md-4">
                    <input type="text" name="phone" id="phone" class="form-control" placeholder="Your Phone Number" required>
                  </div>
    
                  <div class="col-md-4">
                    <input type="text" name="location" id="location" class="form-control" placeholder="Your location" required>
                  </div>
                  <div class="col-md-4">
                    <input type="text" name="password" id="password" class="form-control" placeholder="Your password" required>
                  </div>
                  <div class="col-sm-12">
                    <label selected>Do you want to be</label>
                    <select class="form-select" id="active" name='active' aria-label="Default select example">
                      <option value="False">passive</option>
                      <option value="True">active</option>
                    </select>
                  </div>
  
                  <div class="col-md-12 text-center">
                    <button type="submit" id="submit" class="btn btn-primary">Submit</button>
                  </div>

                  <div class="col-md-12 spinner-border text-center text-primary visually-hidden" id="loading" role="status">
                    <span class="visually-hidden">Loading...</span>
                  </div>
                  <div class="col-md-12 text-center text-primary visually-hidden" id="loadingText" role="status">
                    <span>it takes couple seconds , wait till you are redirected to your website, make sure to signup first before you log in </span>
                  </div>
  
                </div>
              </form>
      
  
            </div>
  
          </div>
  
        </div>
  
      </section><!-- End Contact Section -->
</main>
<script type="text/javascript">
  
  document.getElementById('submit').addEventListener('click', function(e){
    document.getElementById('submit').classList.add("visually-hidden");
    document.getElementById('loading').classList.remove("visually-hidden");
    document.getElementById('loadingText').classList.remove("visually-hidden");
    })

    let url = 'http://localhost:8000/users/register/'

    

</script>

{%endblock%}